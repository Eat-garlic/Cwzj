分布式的基石





 RPC,全称为*Remote Procedure Call*,即远程过程调用,它是一个计算机通信协议。





![image-20240109154406432](https://raw.githubusercontent.com/Eat-garlic/picture/master/img/20240109154406.png)



实现这样一个功能，这个图和前一节的rmi很像

![image-20231019145646945](https://raw.githubusercontent.com/Eat-garlic/picture/master/img/20231019145647.png)





#  概述

上一章的 rmi远程方法调用 和这一章的rpc 远程过程调用 都是分布式的一个基石，小项目可以在一台服务器上写完就跑，这是单体项目，单体项目 是小型项目 ，只在一 个jvm中运行完整的项目，所有的业务逻辑都是在同一台电脑上。但是大型 的商业 项目 体积过大 ，一个电脑无法支撑，如果硬是要用一个单体电脑，如果电脑的配置 是有限的那么最终就会导致电脑tanghuang，所以为了项目能跑起来，性能 得到提升 ，我们这里要用分布式的项目 ，分布式的项目 是将业务分布在一不同的电脑 上，比如 商城 项目 ，订单服务我是在a电脑上，商品服务我是在b电脑上，单体登录我是在d电脑上， 运行这个项目 时，通过网络 连接，得到 一个很好的运行，这个过程 中包含了服务与服务之间 的通信 ，通信又会涉及到了网络 联接，我们每个服务之间 的通信 都 要写这些网络连接，后期 我们会用到高大上的框架 ，这里我们先用之前学过的java知识自己 写这些连接，以达到服务与服务之间 的成功调用 ，后期再升级，只有亲手写了这个，才能更好的理解 分布式和微服务







# rpc  和 rmi  两端传输的基本逻辑 理解 



## 并不是两端同时 用动态代理 ，而是两端在各自的机器上用了动态代理 ，用了代理的过程中利用 了将数据通过序例化在网络上运行传输

 为什么两个Ip的机器 ，不同设备可以 做到同时 用jdk的动态代理，动态代理这么强大，同时做到不同设备的代理的底层逻辑是什么，这点非常重要 



![](https://raw.githubusercontent.com/Eat-garlic/picture/master/img/20240112163218.png)

我上面表述的对嘛，或者说我的理解就有问题

：不对，因为两个机器实现的是同一个接口，这个接口以及接口中的方式会在网络上以socket的连接的方式在tcp网络中通过序例化来传输， 所以b端的接口，我a端也有同样api中接口，接口一样，



 并没有两个机器同时用jdk代理，而是各自在各自端上的动态代理，只不过用了socket 或者其他tcp的协议在网络 上利用 序例化在网络 上传输而已，罢了







![image-20240112164657245](https://raw.githubusercontent.com/Eat-garlic/picture/master/img/20240112164657.png)



为什么可以 跨端， 是因为 它们实现 了一个相同 的接口，  这个接口在两端都是提前被定义好的，然后要同时 实现 ，在rmi中    这是问题的 答案所在嘛



 是自己 业务方法 的接口，这个是关键，并不是remote接口，并不是实现 跨端的重点所在， 

这是个标记接口，像 你自己 写程序时，也要实现 一个Serviable接口一样， 是需要进行一个序例化操作的标记的





![image-20240112170240879](https://raw.githubusercontent.com/Eat-garlic/picture/master/img/20240112170240.png)





















































 